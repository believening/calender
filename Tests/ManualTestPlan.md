# MultiCalendarApp 手动测试方案

## 测试环境准备

### 1. 编译和运行

```bash
# 1. 进入项目目录
cd /home/wuying/clawd/projects/MultiCalendarApp

# 2. 使用 Xcode 打开项目（需要在 macOS 上）
# open MultiCalendarApp.xcodeproj

# 3. 或者使用命令行编译（需要安装 Xcode Command Line Tools）
# xcodebuild -project MultiCalendarApp.xcodeproj -scheme MultiCalendarApp -configuration Debug
```

### 2. 模拟器测试

如果无法在真机测试，可以使用 iOS 模拟器：
- 打开 Xcode
- 选择目标设备（如 iPhone 15 Pro）
- 点击运行按钮

---

## 功能测试清单

### 测试1: 基本日历显示 ✅

**测试步骤**：
1. 启动应用
2. 查看当前月份的日历网格
3. 验证显示内容包括：
   - 公历日期
   - 农历日期
   - 节日标记

**预期结果**：
- ✅ 日历网格正确显示
- ✅ 公历日期清晰可见
- ✅ 农历日期显示在公历日期下方
- ✅ 节日用红点标记

---

### 测试2: 月份导航 ✅

**测试步骤**：
1. 点击左箭头 `<` 切换到上个月
2. 点击右箭头 `>` 切换到下个月
3. 点击"今天"按钮回到当前月份

**预期结果**：
- ✅ 月份切换流畅
- ✅ 日期数据正确更新
- ✅ "今天"按钮能正确回到当前日期

---

### 测试3: 年份快速跳转 ✅（解决竞品痛点）

**测试步骤**：
1. 点击顶部年月显示区域
2. 在弹出的选择器中选择年份（如 2000年）
3. 选择月份（如 5月）
4. 点击"确定"

**预期结果**：
- ✅ 弹出年份选择器
- ✅ 可以快速跳转到任意年份（1900-2100）
- ✅ 不需要逐月翻页（解决竞品痛点）
- ✅ 跳转后日期显示正确

---

### 测试4: 农历/藏历切换 ✅

**测试步骤**：
1. 点击右上角月亮图标（农历开关）
2. 观察日历显示变化
3. 点击火焰图标（藏历开关）
4. 观察日历显示变化

**预期结果**：
- ✅ 农历可以开关
- ✅ 藏历可以开关
- ✅ 三历同时显示时布局清晰
- ✅ 汉藏双语同时显示

---

### 测试5: 日期选择 ✅

**测试步骤**：
1. 点击任意日期
2. 查看选中状态

**预期结果**：
- ✅ 选中的日期有蓝色背景
- ✅ 农历和藏历信息显示正确
- ✅ 节日信息显示（如果有）

---

### 测试6: 节日显示 ✅

**测试步骤**：
1. 滚动到有节日的月份（如农历一月有春节）
2. 查看节日标记
3. 查看底部的节日列表

**预期结果**：
- ✅ 节日用红点标记
- ✅ 节日名称显示在日期位置
- ✅ 底部节日列表显示完整节日信息
- ✅ 藏历节日有藏文名称显示

---

### 测试7: 提醒设置 ✅（核心功能）

**测试步骤**：
1. 点击左上角齿轮图标进入设置
2. 查看提醒规则列表
3. 尝试开启/关闭提醒
4. 修改提醒时间

**预期结果**：
- ✅ 默认有5个提醒规则（初一、十五、佛教节日、传统节日、藏历节日）
- ✅ 可以开关每个提醒
- ✅ 可以设置提前天数（当天、1天、3天、7天）
- ✅ 可以修改提醒时间
- ✅ 首次使用会请求通知权限

---

### 测试8: 插件管理 ✅

**测试步骤**：
1. 在设置页面查看"历法插件"部分
2. 查看已安装的插件（农历、藏历）

**预期结果**：
- ✅ 农历显示"已安装"（绿色对勾）
- ✅ 藏历显示"已安装"（绿色对勾）
- ✅ 其他历法显示"未安装"和"下载"按钮

---

### 测试9: 通知提醒（需要真机测试）✅

**测试步骤**：
1. 在设置中开启"初一提醒"
2. 等待初一到来的提醒时间
3. 查看是否收到通知

**预期结果**：
- ✅ 在设定时间收到通知
- ✅ 通知标题为"初一提醒"
- ✅ 通知内容正确

---

### 测试10: 性能测试 ✅

**测试步骤**：
1. 快速滑动月份
2. 快速跳转年份
3. 观察是否有卡顿

**预期结果**：
- ✅ 操作流畅，无明显卡顿
- ✅ 内存占用合理
- ✅ 不会崩溃

---

## 边界条件测试

### 测试11: 极端日期

**测试步骤**：
1. 跳转到 1900年1月
2. 跳转到 2100年12月

**预期结果**：
- ✅ 支持的年份范围内都能正确显示
- ✅ 不会崩溃

---

### 测试12: 闰月处理

**测试步骤**：
1. 找到有闰月的年份（如 2023年闰二月）
2. 查看闰月的显示

**预期结果**：
- ✅ 闰月正确显示
- ✅ 日期转换正确

---

### 测试13: 藏历缺日/重日

**测试步骤**：
1. 查看藏历月份中是否有缺日或重日

**预期结果**：
- ✅ 缺日和重日正确标记
- ✅ 日期转换正确

---

## 对比测试（与竞品对比）

### 对比项目

| 测试项 | 藏历-藏族专业日历 | 万年藏历 | 我们的应用 |
|-------|------------------|---------|-----------|
| 年份跳转 | ❌ 只能逐月翻 | ❓ | ✅ 快速跳转 |
| 智能提醒 | ❌ 无推送 | ❌ 无 | ✅ 有推送 |
| 稳定性 | ⚠️ 有bug | ❌ 打不开 | ✅ 稳定 |
| 汉藏双语 | ✅ 切换式 | ❌ 仅中文 | ✅ 同时显示 |
| 三历并行 | ✅ 有 | ❌ 无 | ✅ 有 |

---

## 测试报告模板

### 测试结果汇总

| 测试项 | 状态 | 备注 |
|-------|------|------|
| 1. 基本日历显示 | ⬜ PASS / ⬜ FAIL | |
| 2. 月份导航 | ⬜ PASS / ⬜ FAIL | |
| 3. 年份快速跳转 | ⬜ PASS / ⬜ FAIL | 核心功能 |
| 4. 农历/藏历切换 | ⬜ PASS / ⬜ FAIL | |
| 5. 日期选择 | ⬜ PASS / ⬜ FAIL | |
| 6. 节日显示 | ⬜ PASS / ⬜ FAIL | |
| 7. 提醒设置 | ⬜ PASS / ⬜ FAIL | 核心功能 |
| 8. 插件管理 | ⬜ PASS / ⬜ FAIL | |
| 9. 通知提醒 | ⬜ PASS / ⬜ FAIL | 核心功能 |
| 10. 性能测试 | ⬜ PASS / ⬜ FAIL | |

### 发现的问题

| 编号 | 问题描述 | 严重程度 | 状态 |
|-----|---------|---------|------|
| 1 | | ⬜ 高 / ⬜ 中 / ⬜ 低 | ⬜ 待修复 |
| 2 | | ⬜ 高 / ⬜ 中 / ⬜ 低 | ⬜ 待修复 |

---

## 自动化测试

运行单元测试：

```bash
# 在 Xcode 中按 Cmd+U 运行所有测试
# 或使用命令行：
xcodebuild test -project MultiCalendarApp.xcodeproj -scheme MultiCalendarApp -destination 'platform=iOS Simulator,name=iPhone 15 Pro'
```

### 单元测试覆盖

- ✅ 农历插件测试
- ✅ 藏历插件测试
- ✅ 插件管理器测试
- ✅ 提醒管理器测试
- ✅ 日期转换测试
- ✅ 性能测试

---

## 注意事项

1. **iOS 模拟器限制**：
   - 模拟器可能无法正确显示通知
   - 建议在真机上测试通知功能

2. **日历算法**：
   - 当前使用简化算法
   - 生产环境需要引入完整的农历/藏历算法库

3. **数据准确性**：
   - 节日数据基于硬编码
   - 生产环境需要从数据库加载

4. **动态插件**：
   - POC版本藏历插件直接编译进应用
   - 生产环境需要实现动态下载和加载

---

## 联系方式

如有问题，请联系开发团队。

测试日期：____年____月____日
测试人员：________________
签名：____________________
